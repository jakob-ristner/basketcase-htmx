.navbar {
    --_nav-shadow-offset: 1px;
    --_nav-shadow-blur: 5px;
    --nav_shadow_spread: -4px;
    --_nav_shadow_color: var(--ctp-text);
    --_nav-height: 2.5rem;

    --_nav-bg: var(--ctp-crust);

    --_nav-item-bg: var(--_nav-bg);
    --_nav-item-hover-bg: var(--ctp-mantle);
    --_nav-item-selected-bg: hsl(from var(--ctp-lavender) h calc(s * 0.9) calc(l * 1.2));

    --_nav-item-text: var(--ctp-subtext0);
    --_nav-item-hover-text: var(--ctp-text);
    --_nav-item-selected-text: var(--ctp-text);



    background-color: var(--_nav-bg);
    overflow: hidden;
    width: 100%;
    box-shadow: 0 var(--_nav-shadow-offset) var(--_nav-shadow-blur) var(--nav_shadow_spread) var(--_nav_shadow_color);

    color: var(--_nav-text);

    display: flex;


    height: var(--_nav-height);
}

input[id="menu"] {
    display: none;

    &+label:hover,
    &+label:focus,
    &+label:focus-visible {
        cursor: pointer;
        background-color: var(--ctp-crust);
    }

    &:checked+label {
        background-color: var(--ctp-blue);
        color: var(--ctp-text);
    }

    &:checked~form {
        display: flex;
    }
}

form {
    margin: 0;
    --_nav-bg: var(--ctp-surface1);
    background-color: var(--_nav-bg);

    height: calc(100% - var(--_nav-height));
    width: 10rem;
    position: absolute;
    flex-direction: column;
    top: var(--_nav-height);

    display: none;

    & input {
        display: none;

        &+label {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            padding: 0 1rem;

            font-weight: 600;
            font-size: 0.8rem;
            height: 2rem;

            --_nav-item-bg: var(--_nav-bg);
            background-color: var(--_nav-item-bg);
            color: var(--_nav-item-text);

            transition: background-color 0.08s;

            &:hover,
            &:focus,
            &:focus-visible {
                --_nav-item-bg: var(--_nav-item-hover-bg);
                --_nav-item-text: var(--_nav-item-hover-text);
                cursor: pointer;
            }

        }

        &:checked+label {
            --_nav-item-bg: var(--_nav-item-selected-bg);
            --_nav-item-text: var(--_nav-item-selected-text);
        }
    }

}

@media (min-width: 768px) {
    form {
        width: 20rem;
        height: 100%;
        display: flex;
        position: relative;
        top: 0;
        flex-direction: row;
        align-items: center;
        justify-content: flex-start;

        --_nav-bg: var(--ctp-crust);

        & input + label {
            flex: 1;
            height: 100%;

            display: flex;
            align-items: center;
            justify-content: center;
        }
    }

    input[id="menu"]+label {
        display: none;
    }

}